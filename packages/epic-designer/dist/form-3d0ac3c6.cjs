"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),g=require("./index-dd0e3f73.cjs");require("./_commonjsHelpers-6763f629.cjs");require("./_vue_commonjs-external-0743e21a.cjs");require("./index-8a4d6b86.cjs");const y={key:0,class:"form-main",style:{height:"100%"}},_=e.defineComponent({__name:"form",props:{componentSchema:{type:Object,require:!0,default:()=>({})}},setup(i,{expose:p}){const n=i,o=e.ref(null),m=e.inject("forms",{}),d=e.ref(!0),r=e.reactive({});e.provide("formData",r);function u(){return r}function s(t){Object.assign(r,t)}function f(){var t;return(t=o.value)==null?void 0:t.validate()}e.onMounted(async()=>{var t,a,c,l;if(((t=n.componentSchema)==null?void 0:t.type)==="form"&&m.value&&o.value){const S=((c=(a=n.componentSchema)==null?void 0:a.componentProps)==null?void 0:c.name)??((l=n.componentSchema)==null?void 0:l.name)??"default";m.value[S]=o.value,o.value.getData=u,o.value.setData=s}});const v=e.computed(()=>n.componentSchema.componentProps),h=e.computed(()=>n.componentSchema.children??[]);return p({form:o,getData:u,setData:s,validate:f}),(t,a)=>d.value?(e.openBlock(),e.createElementBlock("div",y,[e.createVNode(e.unref(g.form.NForm),e.mergeProps({ref_key:"form",ref:o,model:r},v.value,{style:{height:"100%"}}),{default:e.withCtx(()=>[e.renderSlot(t.$slots,"edit-node",{},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,c=>e.renderSlot(t.$slots,"node",{componentSchema:c})),256))])]),_:3},16,["model"])])):e.createCommentVNode("",!0)}});exports.default=_;
