"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),g=require("./vuedraggable.umd-50dcd280.cjs"),V=require("./index-a6f7fd90.cjs"),v=require("./icon.vue_vue_type_script_setup_true_lang-5a70b817.cjs");require("./_commonjsHelpers-6763f629.cjs");require("./_vue_commonjs-external-0743e21a.cjs");const f={key:0,class:"pl-4"},C=e.defineComponent({name:"KOptionsCol",__name:"optionsCol",props:{modelValue:{}},emits:["update:modelValue"],setup(m,{emit:s}){const p=m,r=V.pluginManager.getComponent("input"),i=e.inject("tree",!1),u=s,c=e.computed({get(){return p.modelValue},set(t){u("update:modelValue",t)}});function d(t){const n={label:"",value:""};t.children?t.children.push(n):t.children=[n]}function o(t){var n;(n=c.value)==null||n.splice(t,1)}return(t,n)=>{const _=e.resolveComponent("KOptionsCol");return e.openBlock(),e.createBlock(e.unref(g.draggable),{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=l=>c.value=l),"item-key":"id","component-data":{type:"transition-group"},group:"option-list",handle:".handle",animation:200},{item:e.withCtx(({element:l,index:h})=>[e.createElementVNode("div",null,[e.createElementVNode("div",{class:e.normalizeClass([e.unref(i)?"grid-cols-[16px_auto_auto_16px_16px]":"grid-cols-[16px_auto_auto_16px]","option-item grid gap-2 items-center mb-2"])},[e.createVNode(e.unref(v._sfc_main),{class:"mr-2 text-lg cursor-move handle",name:"icon-tuozhuai"}),e.createVNode(e.unref(r),{modelValue:l.label,"onUpdate:modelValue":a=>l.label=a,value:l.label,"onUpdate:value":a=>l.label=a,placeholder:"label"},null,8,["modelValue","onUpdate:modelValue","value","onUpdate:value"]),e.createVNode(e.unref(r),{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,value:l.value,"onUpdate:value":a=>l.value=a,placeholder:"value"},null,8,["modelValue","onUpdate:modelValue","value","onUpdate:value"]),e.unref(i)?(e.openBlock(),e.createBlock(e.unref(v._sfc_main),{key:0,class:"text-lg",name:"icon-tianjia1",onClick:a=>d(l)},null,8,["onClick"])):e.createCommentVNode("",!0),e.createVNode(e.unref(v._sfc_main),{class:"text-lg hover:text-red cursor-pointer",name:"icon-shanchu1",onClick:a=>o(h)},null,8,["onClick"])],2),l.children?(e.openBlock(),e.createElementBlock("div",f,[e.createVNode(_,{modelValue:l.children,"onUpdate:modelValue":a=>l.children=a},null,8,["modelValue","onUpdate:modelValue"])])):e.createCommentVNode("",!0)])]),_:1},8,["modelValue"])}}}),x={class:""},k={class:"py-4 my-2 text-center text-gray-400 bg-white"},b=e.defineComponent({__name:"index",props:{tree:{type:Boolean},modelValue:{}},emits:["update:modelValue"],setup(m,{emit:s}){const p=V.pluginManager.getComponent("button"),r=m,i=s,u=e.computed({get(){return r.modelValue},set(d){i("update:modelValue",d)}});e.provide("tree",r.tree);function c(){var o;const d={label:"",value:""};(o=u.value)==null||o.push(d)}return(d,o)=>{var t;return e.openBlock(),e.createElementBlock("div",x,[e.withDirectives(e.createElementVNode("div",k,"暂无选项",512),[[e.vShow,!((t=u.value)!=null&&t.length)]]),e.createVNode(C,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=n=>u.value=n)},null,8,["modelValue"]),e.createVNode(e.unref(p),{onClick:c},{default:e.withCtx(()=>[e.createTextVNode("添加选项")]),_:1})])}}});exports.default=b;
