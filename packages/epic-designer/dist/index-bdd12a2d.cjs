"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("vue"),p=require("monaco-editor"),g=require("./_plugin-vue_export-helper-f246444f.cjs");function m(l){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(l){for(const a in l)if(a!=="default"){const n=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:()=>l[a]})}}return r.default=l,Object.freeze(r)}const c=m(p),_=o.defineComponent({__name:"index",props:{language:{default:"json"},readOnly:{type:Boolean,default:!1},valueFormat:{default:"string"},modelValue:{},config:{default:()=>({theme:"vs-light",selectOnLineNumbers:!0,minimap:{enabled:!1},lineNumbers:"off"})}},emits:["update:modelValue"],setup(l,{expose:r,emit:a}){const n=l,s=a,i=o.ref(null);let e=null;function f(u){e==null||e.setValue(u||"")}function d(u){const t=e==null?void 0:e.getPosition();t&&(e==null||e.executeEdits("",[{range:new c.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:u}]),e==null||e.setPosition({...t,column:t.column+u.length}),e==null||e.focus())}return o.onMounted(()=>{e=c.editor.create(i.value,{value:u(),language:n.language,readOnly:n.readOnly,...n.config,automaticLayout:!0});function u(){return n.valueFormat==="json"&&n.modelValue?JSON.stringify(n.modelValue,null,2):n.modelValue??""}e.onDidChangeModelContent(()=>{const t=e==null?void 0:e.getValue();if(n.valueFormat==="json"&&t){s("update:modelValue",JSON.parse(t));return}s("update:modelValue",t??"")})}),r({setValue:f,insertText:d}),(u,t)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"editContainer",ref:i,class:"code-editor"},null,512))}});const y=g._export_sfc(_,[["__scopeId","data-v-93a4539a"]]);exports.default=y;
