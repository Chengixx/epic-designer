"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),S=require("ant-design-vue"),y={class:"form-main",style:{height:"100%"}},b=e.defineComponent({__name:"form",props:{componentSchema:{type:Object,require:!0,default:()=>({})}},setup(p,{expose:d}){const a=p,o=e.ref(null),c=e.inject("forms",{}),l=e.reactive({});e.provide("formData",l);function s(){return l}function u(){var t;return(t=o.value)==null?void 0:t.validateFields()}function m(t){Object.assign(l,t)}e.onMounted(async()=>{var t,r,n,i;if(((t=a.componentSchema)==null?void 0:t.type)==="form"&&c.value&&o.value){const g=((n=(r=a.componentSchema)==null?void 0:r.componentProps)==null?void 0:n.name)??((i=a.componentSchema)==null?void 0:i.name)??"default";return o.value.validate=u,c.value[g]=o.value,o.value.getData=s,o.value.setData=m,!1}});const f=e.computed(()=>{const t=a.componentSchema.componentProps;let r=t.labelCol,n=t.wrapperCol;return t.labelLayout==="fixed"&&(r={flex:`${t.labelWidth}px`},n={flex:1}),{...t,labelCol:r,wrapperCol:n}});function h(t){console.log(t)}const v=e.computed(()=>a.componentSchema.children??[]);return d({form:o,getData:s,setData:m,validate:u}),(t,r)=>(e.openBlock(),e.createElementBlock("div",y,[e.createVNode(e.unref(S.Form),e.mergeProps({ref_key:"form",ref:o,model:l},f.value,{style:{height:"100%"},onFinish:h}),{default:e.withCtx(()=>[e.renderSlot(t.$slots,"edit-node",{},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,n=>e.renderSlot(t.$slots,"node",{componentSchema:n})),256))])]),_:3},16,["model"])]))}});exports.default=b;
