"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),S=require("element-plus"),b={key:0,class:"form-main",style:{height:"100%"}},g=e.defineComponent({__name:"form",props:{componentSchema:{type:Object,require:!0,default:()=>({})}},setup(i,{expose:p}){const o=e.ref(null),c=e.inject("forms",{}),d=e.ref(!0),l=e.reactive({});e.provide("formData",l);const a=i;function s(){return l}function m(t){Object.assign(l,t)}function f(){var t;return(t=o.value)==null?void 0:t.validate()}e.onMounted(async()=>{var t,r,n,u;if(((t=a.componentSchema)==null?void 0:t.type)==="form"&&c.value&&o.value){const y=((n=(r=a.componentSchema)==null?void 0:r.componentProps)==null?void 0:n.name)??((u=a.componentSchema)==null?void 0:u.name)??"default";return c.value[y]=o.value,o.value.getData=s,o.value.setData=m,!1}});const h=e.computed(()=>{const t=a.componentSchema.componentProps;let r=t.labelCol,n=t.wrapperCol;return t.labelLayout==="fixed"&&(r={style:`width:${t.labelWidth}px`},n={style:"width:auto;flex:1"}),{...t,labelCol:r,wrapperCol:n}}),v=e.computed(()=>a.componentSchema.children??[]);return p({form:o,getData:s,setData:m,validate:f}),(t,r)=>d.value?(e.openBlock(),e.createElementBlock("div",b,[e.createVNode(e.unref(S.ElForm),e.mergeProps({ref_key:"form",ref:o,model:l},h.value,{style:{height:"100%"}}),{default:e.withCtx(()=>[e.renderSlot(t.$slots,"edit-node",{},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,n=>e.renderSlot(t.$slots,"node",{componentSchema:n})),256))])]),_:3},16,["model"])])):e.createCommentVNode("",!0)}});exports.default=g;
