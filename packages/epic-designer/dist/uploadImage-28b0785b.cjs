"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("vue"),o=require("element-plus"),y=l.defineComponent({props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(i,{emit:c,attrs:d}){const t=l.ref([]),r=l.ref(""),u=l.ref(!1),n=e=>{u.value=e};l.watch(t,e=>{c("update:modelValue",e)}),l.watch(()=>i.modelValue,e=>{if(e!=null&&e.length>0&&t.value!=null){if(t.value===e)return;t.value.length=0,t.value.push(...e)}},{deep:!0,immediate:!0});const p=(e,a)=>{l.nextTick(()=>{t.value=a})},g=(e,a,s)=>{console.log(s)},f=(e,a,s)=>{o.ElMessage.error("上传失败"),console.error(e)},m=e=>{},h=l.computed(()=>({...d,"file-list":t.value,"list-type":"picture-card",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",onBeforeUpload:m,onChange:p,onSuccess:g,onError:f,onPreview:v})),v=e=>{e.url&&(r.value=e.url,n(!0))};return()=>l.h("div",{class:"epic-upload-image"},{default:()=>[l.h(o.ElUpload,h.value,{default:()=>[l.h("div",{style:{"text-align":"center"}},{default:()=>[l.h("span",{class:"iconfont epic-icon-shangchuan1 text-md",style:{"margin-right":"2px"}}),l.h("div",{class:"ant-upload-text"},{default:()=>"点击上传"})]})]}),(()=>{if(u.value)return l.h(o.ElImageViewer,{urlList:[r.value],onClose:()=>{n(!1)}})})()]})}});exports.default=y;
