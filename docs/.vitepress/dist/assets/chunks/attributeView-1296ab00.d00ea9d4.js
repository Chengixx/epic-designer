import{e as y,j as c,h as P,p as k,f as C,r as N,w as V,o as r,c as d,M as D,Y as z,D as F,E as I,b as u,P as S,d as B,u as p,n as _,N as j}from"../app.27d58f12.js";import{F as x,I as E,P as L,c as v,z as M}from"./index-980e4b1c.94133bb0.js";const T={class:"epic-attribute-view"},U=["title"],A={class:"attr-input"},q=y({__name:"attributeView",setup(H){const s=c("designer"),m=c("pageSchema"),f=P({});k("formData",f);const h=x.getComponentConfings(),t=C(()=>s.state.checkedNode);function b(a){var o;return typeof a.show=="boolean"?a.show:typeof a.show=="function"?(o=a.show)==null?void 0:o.call(a,{values:t.value}):!0}const i=N([]);V(()=>{var a;return(a=s.state.checkedNode)==null?void 0:a.type},()=>{var n;var a,o;const e=(a=s.state.checkedNode)==null?void 0:a.type;if(!e)return[];const l=(n=(o=h[e])==null?void 0:o.config.attribute)!=null?n:[];i.value=[{label:"\u7EC4\u4EF6ID",type:"input",field:"id",componentProps:{disabled:!0}},...l]},{immediate:!0});function g(a,o,e){typeof e.onChange=="function"&&e.onChange({value:a,values:t.value,componentAttributes:i}),e.changeSync?v(a,o,t.value):j(()=>{v(a,o,t.value)}),M.push(m.schemas,"\u7F16\u8F91\u7EC4\u4EF6\u5C5E\u6027")}return(a,o)=>(r(),d("aside",T,[(r(!0),d(D,null,z(i.value,e=>{var l,n;return r(),d("div",{key:e.field+((l=t.value)==null?void 0:l.id)},[F(u("div",{class:_(["attr-item",e.layout])},[u("div",{class:"attr-label",title:e.label},S(e.label),9,U),u("div",A,[B(p(L),{record:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(n=t.value)==null?void 0:n.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":p(E)(e.field,t.value),"onUpdate:modelValue":w=>g(w,e.field,e)},null,8,["record","model-value","onUpdate:modelValue"])])],2),[[I,b(e)]])])}),128))]))}});export{q as default};
