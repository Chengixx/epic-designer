import{e as y,j as c,h as N,p as k,f as C,r as P,w as V,o as r,c as d,M as D,Z as z,D as F,E as S,b as u,P as B,d as _,u as p,n as j,N as x}from"../app.9ec52d9f.js";import{F as E,c as I,w as L,N as v,z as M}from"./index-3519e374.9c71cf1c.js";const T={class:"epic-attribute-view"},U=["title"],A={class:"attr-input"},q=y({__name:"attributeView",setup(H){const s=c("designer"),m=c("pageSchema"),f=N({});k("formData",f);const h=E.getComponentConfings(),t=C(()=>s.state.checkedNode);function w(a){var o;return typeof a.show=="boolean"?a.show:typeof a.show=="function"?(o=a.show)==null?void 0:o.call(a,{values:t.value}):!0}const i=P([]);V(()=>{var a;return(a=s.state.checkedNode)==null?void 0:a.type},()=>{var n;var a,o;const e=(a=s.state.checkedNode)==null?void 0:a.type;if(!e)return[];const l=(n=(o=h[e])==null?void 0:o.config.attribute)!=null?n:[];i.value=[{label:"\u7EC4\u4EF6ID",type:"input",field:"id",componentProps:{disabled:!0}},...l]},{immediate:!0});function b(a,o,e){typeof e.onChange=="function"&&e.onChange({value:a,values:t.value,componentAttributes:i}),e.changeSync?v(a,o,t.value):x(()=>{v(a,o,t.value)}),M.push(m.schemas,"\u7F16\u8F91\u7EC4\u4EF6\u5C5E\u6027")}return(a,o)=>(r(),d("aside",T,[(r(!0),d(D,null,z(i.value,e=>{var l,n;return r(),d("div",{key:e.field+((l=t.value)==null?void 0:l.id)},[F(u("div",{class:j(["attr-item",e.layout])},[u("div",{class:"attr-label",title:e.label},B(e.label),9,U),u("div",A,[_(p(L),{record:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(n=t.value)==null?void 0:n.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":p(I)(e.field,t.value),"onUpdate:modelValue":g=>b(g,e.field,e)},null,8,["record","model-value","onUpdate:modelValue"])])],2),[[S,w(e)]])])}),128))]))}});export{q as default};
