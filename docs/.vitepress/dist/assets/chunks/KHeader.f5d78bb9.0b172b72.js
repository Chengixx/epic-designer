import{D as x,T as m,V as z,w,M as B}from"../guide_components_k-designer.md.da94422c.js";import{f as D,s as v,r as p,o as y,c as F,a as n,j as s,i as t,u as a,b as h,h as V,x as N}from"../app.2d306cc2.js";const A={class:"k-preview-container"},M={class:"k-modal-footer"},j=D({__name:"KPreview",setup(E,{expose:k}){const i=x.getComponent("Modal"),u=x.getComponent("button"),e=p(!1),d=v("schemas"),C=v("script"),r=p(null),f=p("");function b(){e.value=!1}function g(){e.value=!0,f.value=B()}async function _(){const l=await r.value.validate();console.log("\u8868\u5355\u7ED3\u679C\u4E3A\uFF1A",l)}return k({handleOpen:g}),(l,o)=>(y(),V(N(a(i)),{title:"\u9884\u89C8",visible:e.value,"onUpdate:visible":o[0]||(o[0]=c=>e.value=c),show:e.value,"onUpdate:show":o[1]||(o[1]=c=>e.value=c),modelValue:e.value,"onUpdate:modelValue":o[2]||(o[2]=c=>e.value=c),width:"800px",footer:null},{default:t(()=>[n("div",A,[(y(),V(a(z),{key:f.value,ref_key:"kb",ref:r,schemas:a(d),script:a(C)},null,8,["schemas","script"])),n("div",M,[s(a(u),{onClick:b},{default:t(()=>[h("\u5173\u95ED")]),_:1}),s(a(u),{type:"primary",onClick:_},{default:t(()=>[h("\u8F93\u51FA\u7ED3\u679C")]),_:1})])])]),_:1},40,["visible","show","modelValue"]))}}),K={class:"k-header"},L={class:"k-header-item"},O=n("span",{class:"iconfont icon-chexiao2x"},null,-1),U=n("span",{class:"iconfont icon-fanhui2x"},null,-1),H=n("div",{class:"k-header-item font-bold font-md"}," k-designer ",-1),P={class:"k-header-item"},T=n("span",{class:"iconfont icon-yulan",style:{"margin-right":"6px"}},null,-1),$=n("span",{class:"iconfont icon-yulan",style:{"margin-right":"6px"}},null,-1),G=D({__name:"KHeader",emits:["save"],setup(E,{emit:k}){const i=v("schemas"),u=v("designer"),e=x.getComponent("button"),d=p(null),C=m.recordList,r=m.undoList;function f(){d.value.handleOpen()}function b(){const l=m.undo();!l||(w(i.value,l),u.setCheckedNode(i.value[0]))}function g(){const l=m.redo();!l||(w(i.value,l),u.setCheckedNode(i.value[0]))}function _(){k("save")}return(l,o)=>(y(),F("header",K,[n("div",L,[s(a(e),{onClick:b,size:"small",disabled:!a(C).length},{default:t(()=>[O]),_:1},8,["disabled"]),s(a(e),{onClick:g,size:"small",disabled:!a(r).length},{default:t(()=>[U]),_:1},8,["disabled"])]),H,n("div",P,[s(a(e),{onClick:f,size:"small"},{default:t(()=>[T,h(" \u9884\u89C8")]),_:1}),s(a(e),{onClick:_,size:"small"},{default:t(()=>[$,h(" \u4FDD\u5B58")]),_:1})]),s(j,{ref_key:"preview",ref:d},null,512)]))}});export{G as default};
