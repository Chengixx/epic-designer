import{h as A,A as g,r as _,s as C,o as c,c as r,a,l as b,k,u as y,U as $,a1 as j,y as E,V as S,v as z,K as G,L as J,t as w}from"../app.c181f4ec.js";import{d as K}from"./vuedraggable.umd.dd4475b1.js";import{bw as V,bD as F,bx as B,bC as P,by as R}from"../guide_components_e-designer.md.ee402248.js";const T={class:"epic-component-view flex flex-col"},q={class:"search-box px-10px pr-14px py-6px"},H=a("span",{class:"iconfont icon-yulan"},null,-1),M={class:"flex flex-1 overflow-auto"},O={class:"tabs-box"},Q=["title","onClick"],W={class:"h-full flex-1 overflow-auto py-2 box-border"},X=["onClick"],Y={class:"text-center pt-42px text-gray-400"},ae=A({__name:"index",setup(Z){const D=V.getComponent("input"),d=g("pageSchema"),p=g("designer"),v=V.getSchemaByGroup(),o=_(""),m={title:"\u5168\u90E8",list:[]},u=_(m),L=C(()=>[m,...v.value]),n=C(()=>{let s=u.value.list;if(u.value.title==="\u5168\u90E8"){const t=v.value.map(e=>e.list);s=[].concat(...t)}return o.value?s.filter(t=>{var e;return(e=t.label)==null?void 0:e.includes(o.value)}):s});function I(s){u.value=s}function N(s){n.value[s.oldIndex]=F({...w(n.value[s.oldIndex]),id:B()})}function U(s){var f,x;const t=P(d.schemas,(x=(f=p.state.checkedNode)==null?void 0:f.id)!=null?x:"root");if(!t)return!1;let{list:e,schema:l,index:i}=t;l.children&&!["row","tabs"].includes(l.type)&&(e=l.children,i=l.children.length-1);const h=F({...w(s),id:B()});e.splice(i+1,0,h),p.setCheckedNode(h),R.push(d.schemas,"\u63D2\u5165\u7EC4\u4EF6")}return(s,t)=>(c(),r("div",T,[a("div",q,[b(y(D),{placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u540D\u79F0",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),value:o.value,"onUpdate:value":t[1]||(t[1]=e=>o.value=e)},{prefix:k(()=>[H]),_:1},8,["modelValue","value"])]),a("div",M,[a("div",O,[(c(!0),r($,null,j(L.value,(e,l)=>(c(),r("div",{class:E(["tab cursor-pointer truncate",{checked:u.value.title===e.title}]),key:l,title:e.title,onClick:i=>I(e)},S(e.title),11,Q))),128))]),a("div",W,[b(y(K),z({modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{"item-key":"id",class:"grid grid-cols-[auto_auto] px-10px gap-2",onEnd:t[3]||(t[3]=e=>N(e))}),{item:k(({element:e})=>[a("div",{class:"source-componet-item flex items-center truncate",onClick:l=>U(e)},[a("span",{class:E(["iconfont",e.icon])},null,2),a("div",null,S(e.label),1)],8,X)]),_:1},16,["modelValue"]),G(a("div",Y,"\u6CA1\u6709\u67E5\u8BE2\u5230\u7684\u7EC4\u4EF6",512),[[J,!n.value.length]])])])]))}});export{ae as default};
