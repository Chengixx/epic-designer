import{bX as C}from"../guide_components_k-designer.md.96ba1754.js";import{f as b,M as x,r as n,s as k,J as w,k as d,o as m,c,j as B,i as _,B as u,F as g,l as j,u as l,y as F,m as $}from"../app.b39b64a1.js";const q={key:0,class:"form-main",style:{height:"100%"}},N=b({__name:"KForm",props:{record:{type:Object,require:!0}},setup(f,{expose:p}){const o=f,i=x(),s=n(null),a=k("forms",{}),y=n(!0);w(async()=>{var e;if(o.record.type==="form"&&a.value){const r=(e=o.record.name)!=null?e:"default";return a.value[r]=s.value,!1}});const h=d(()=>{const e=o.record.componentProps;let r=e.labelCol,t=e.wrapperCol;return e.labelLayout==="fixed"&&(r={style:`width:${e.labelWidth}px`},t={style:"width:auto;flex:1"}),{...e,labelCol:r,wrapperCol:t}}),v=d(()=>{var e;return(e=o.record.children)!=null?e:[]});return p({form:s}),(e,r)=>y.value?(m(),c("div",q,[B(l(C),F({ref_key:"form",ref:s,model:l(i).model},l(h),{style:{height:"100%"}}),{default:_(()=>[u(e.$slots,"edit-node",{},()=>[(m(!0),c(g,null,j(l(v),t=>u(e.$slots,"node",{record:t})),256))])]),_:3},16,["model"])])):$("",!0)}});export{N as default};
