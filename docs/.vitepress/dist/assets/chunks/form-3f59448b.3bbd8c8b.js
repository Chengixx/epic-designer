import{al as b}from"./index-980e4b1c.94133bb0.js";import{e as C,r as u,j as k,h as x,p as w,k as D,f as c,o as m,c as f,d as j,q as _,g as i,M as L,Y as V,m as $,u as q,F as B}from"../app.27d58f12.js";const F={key:0,class:"form-main",style:{height:"100%"}},O=C({__name:"form",props:{record:{type:Object,require:!0,default:()=>({})}},setup(p,{expose:v}){const o=p,a=u(null),s=k("forms",{}),h=u(!0),l=x({});w("formData",l);function n(){return l}function d(e){Object.assign(l,e)}D(async()=>{var t;var e;if(((e=o.record)==null?void 0:e.type)==="form"&&s.value&&a.value){const r=(t=o.record.name)!=null?t:"default";return s.value[r]=a.value,a.value.getData=n,a.value.setData=d,!1}});const y=c(()=>{const e=o.record.componentProps;let t=e.labelCol,r=e.wrapperCol;return e.labelLayout==="fixed"&&(t={style:`width:${e.labelWidth}px`},r={style:"width:auto;flex:1"}),{...e,labelCol:t,wrapperCol:r}}),g=c(()=>{var e;return(e=o.record.children)!=null?e:[]});return v({form:a,getData:n,setData:d}),(e,t)=>h.value?(m(),f("div",F,[j(q(b),$({ref_key:"form",ref:a,model:l},y.value,{style:{height:"100%"}}),{default:_(()=>[i(e.$slots,"edit-node",{},()=>[(m(!0),f(L,null,V(g.value,r=>i(e.$slots,"node",{record:r})),256))])]),_:3},16,["model"])])):B("",!0)}});export{O as default};
