import{b as y,U as V}from"./index-f8af2de5.f73c24e9.js";import{q}from"./index-f8a042e8.9ffffc0d.js";import"../guide_components_e-designer.md.ee402248.js";import"./index-6a6c1df0.2ad4f1cc.js";import"./isEqual-18dffd83.7c9320d0.js";import"./use-global-config-fb2065bf.b8b6b1d9.js";import{h as w,r as l,w as n,s as C,X as t,n as U}from"../app.c181f4ec.js";import"./isNil-8ef0e4b6.764aa3a4.js";import"./debounce-5fa7928e.dc7028b5.js";const S=w({props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(p,{emit:m,attrs:d}){const a=l([]),r=l(""),s=l(!1),i=e=>{s.value=e};n(a,e=>{m("update:modelValue",e)}),n(()=>p.modelValue,e=>{if(e!=null&&e.length>0&&a.value!=null){if(a.value===e)return;a.value.length=0,a.value.push(...e)}},{deep:!0,immediate:!0});const c=(e,o)=>{U(()=>{a.value=o})},g=(e,o,u)=>{console.log(u)},f=(e,o,u)=>{V.error("\u4E0A\u4F20\u5931\u8D25"),console.error(e)},v=e=>{},h=C(()=>({...d,"list-type":"picture-card",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",onBeforeUpload:v,onChange:c,onSuccess:g,onError:f,onPreview:x})),x=e=>{e.url&&(r.value=e.url,i(!0))};return()=>t("div",{class:"k-upload-image"},{default:()=>[t(y,h.value,{default:()=>[t("div",{style:{"text-align":"center"}},{default:()=>[t("span",{class:"iconfont icon-shangchuan1 text-md",style:{"margin-right":"2px"}}),t("div",{class:"ant-upload-text"},{default:()=>"\u70B9\u51FB\u4E0A\u4F20"})]})]}),(()=>{if(s.value)return t(q,{urlList:[r.value],onClose:()=>{i(!1)}})})()]})}});export{S as default};
