import{c8 as C}from"../guide_components_k-designer.md.da94422c.js";import{f as x,M as b,r as n,s as k,J as w,k as d,o as c,c as m,j as _,i as g,B as u,F as B,l as F,u as l,y as j,m as M}from"../app.2d306cc2.js";const $={key:0,class:"form-main",style:{height:"100%"}},P=x({__name:"KForm",props:{record:{type:Object,require:!0}},setup(f,{expose:p}){const o=f,i=b(),s=n(null),a=k("forms",{}),y=n(!0);w(async()=>{var e;if(o.record.type==="form"&&a.value){const r=(e=o.record.name)!=null?e:"default";return a.value[r]=s.value,!1}});const h=d(()=>{const e=o.record.componentProps;let r=e.labelCol,t=e.wrapperCol;return e.labelLayout==="fixed"&&(r={style:`width:${e.labelWidth}px`},t={style:"width:auto;flex:1"}),{...e,labelCol:r,wrapperCol:t}}),v=d(()=>{var e;return(e=o.record.children)!=null?e:[]});return p({form:s}),(e,r)=>y.value?(c(),m("div",$,[_(l(C),j({ref_key:"form",ref:s,model:l(i).model},l(h),{style:{height:"100%"}}),{default:g(()=>[u(e.$slots,"edit-node",{},()=>[(c(!0),m(B,null,F(l(v),t=>u(e.$slots,"node",{record:t})),256))])]),_:3},16,["model"])])):M("",!0)}});export{P as default};
