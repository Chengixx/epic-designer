import{A as x,T as f,F as D,w as E,M as V}from"../guide_components_k-designer.md.863ef670.js";import{f as w,s as p,r as m,o as y,c as z,a as n,j as s,i as t,u as e,b as v,h as F,x as B}from"../app.b39b64a1.js";const N={class:"k-modal-footer"},M=w({__name:"KPreview",setup(A,{expose:k}){const o=x.getComponent("Modal"),u=x.getComponent("button"),a=m(!1),c=p("schemas"),h=p("script"),d=m(null),r=m("");function C(){a.value=!1}function g(){a.value=!0,r.value=V()}async function _(){const l=await d.value.validate();console.log("\u8868\u5355\u7ED3\u679C\u4E3A\uFF1A",l)}return k({handleOpen:g}),(l,i)=>(y(),F(B(e(o)),{title:"\u9884\u89C8",visible:a.value,"onUpdate:visible":i[0]||(i[0]=b=>a.value=b),modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=b=>a.value=b),width:"800px",footer:null},{default:t(()=>[(y(),F(e(D),{key:r.value,ref_key:"kb",ref:d,schemas:e(c),script:e(h)},null,8,["schemas","script"])),n("div",N,[s(e(u),{onClick:C},{default:t(()=>[v("\u5173\u95ED")]),_:1}),s(e(u),{type:"primary",onClick:_},{default:t(()=>[v("\u8F93\u51FA\u7ED3\u679C")]),_:1})])]),_:1},40,["visible","modelValue"]))}}),T={class:"k-header"},$={class:"k-header-item"},j=n("span",{class:"iconfont icon-chexiao2x"},null,-1),K=n("span",{class:"iconfont icon-fanhui2x"},null,-1),L=n("div",{class:"k-header-item font-bold font-md"}," k-designer ",-1),O={class:"k-header-item"},H=n("span",{class:"iconfont icon-yulan",style:{"margin-right":"6px"}},null,-1),P=n("span",{class:"iconfont icon-yulan",style:{"margin-right":"6px"}},null,-1),G=w({__name:"KHeader",emits:["save"],setup(A,{emit:k}){const o=p("schemas"),u=p("designer"),a=x.getComponent("button"),c=m(null),h=f.recordList,d=f.undoList;function r(){c.value.handleOpen()}function C(){const l=f.undo();!l||(E(o.value,l),u.setCheckedNode(o.value[0]))}function g(){const l=f.redo();!l||(E(o.value,l),u.setCheckedNode(o.value[0]))}function _(){k("save")}return(l,i)=>(y(),z("header",T,[n("div",$,[s(e(a),{onClick:C,size:"small",disabled:!e(h).length},{default:t(()=>[j]),_:1},8,["disabled"]),s(e(a),{onClick:g,size:"small",disabled:!e(d).length},{default:t(()=>[K]),_:1},8,["disabled"])]),L,n("div",O,[s(e(a),{onClick:r,size:"small"},{default:t(()=>[H,v(" \u9884\u89C8")]),_:1}),s(e(a),{onClick:_,size:"small"},{default:t(()=>[P,v(" \u4FDD\u5B58")]),_:1})]),s(M,{ref_key:"preview",ref:c},null,512)]))}});export{G as default};
