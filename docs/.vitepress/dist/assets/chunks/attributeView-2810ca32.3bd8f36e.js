import{e as w,k as v,f as k,r as D,w as C,o as r,c as u,N as I,Y as N,E as S,F as V,b as c,t as P,d as x,u as m,n as E,O as F}from"../app.c22c6c8c.js";import{M as z,l as B,x as U,o as f,I as j}from"./index.0d7c8eb8.js";const M=["title"],T={class:"attr-input"},O=w({__name:"attributeView",setup(_){const i=v("designer"),d=v("pageSchema"),h=z.getComponentConfings(),l=k(()=>i.state.checkedNode);function y(a){var o;return typeof a.show=="boolean"?a.show:typeof a.show=="function"?(o=a.show)==null?void 0:o.call(a,{values:l.value}):!0}const s=D([]);C(()=>{var a;return(a=i.state.checkedNode)==null?void 0:a.type},()=>{var n;var a,o;const t=(a=i.state.checkedNode)==null?void 0:a.type;if(!t)return[];const e=(n=(o=h[t])==null?void 0:o.config.attribute)!=null?n:[];s.value=[{label:"\u7EC4\u4EF6ID",type:"input",field:"id",componentProps:{disabled:!0}},...e],t==="page"&&s.value.push({label:"\u753B\u5E03\u5BBD\u5EA6",type:"EInputSize",field:"canvas.width",editData:d},{label:"\u753B\u5E03\u9AD8\u5EA6",type:"EInputSize",field:"canvas.height",editData:d})},{immediate:!0});function b(a,o,t,e=l.value){typeof t.onChange=="function"&&t.onChange({value:a,values:e,componentAttributes:s}),t.changeSync?f(a,o,e):F(()=>{f(a,o,e)}),j.push(d.schemas,"\u7F16\u8F91\u7EC4\u4EF6\u5C5E\u6027")}return(a,o)=>{var t;return r(),u("aside",{class:"epic-attribute-view",key:(t=l.value)==null?void 0:t.id},[(r(!0),u(I,null,N(s.value,e=>{var p;var n;return r(),u("div",{key:e.field},[S(c("div",{class:E(["attr-item",e.layout])},[c("div",{class:"attr-label",title:e.label},P(e.label),9,M),c("div",T,[x(m(U),{record:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(n=l.value)==null?void 0:n.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":m(B)(e.field,(p=e.editData)!=null?p:l.value),"onUpdate:modelValue":g=>b(g,e.field,e,e.editData)},null,8,["record","model-value","onUpdate:modelValue"])])],2),[[V,y(e)]])])}),128))])}}});export{O as default};
