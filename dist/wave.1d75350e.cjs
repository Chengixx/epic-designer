"use strict";const O=require("./useConfigInject.9ebe03f9.cjs"),B=require("./_vue_commonjs-external.db6f8c6f.cjs"),H=require("./raf.3a81eca4.cjs");var g={},T={},D;function F(){if(D)return T;D=1,Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var l={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},f={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},o=[],c=[];function p(){var s=document.createElement("div"),e=s.style;"AnimationEvent"in window||(delete l.animationstart.animation,delete f.animationend.animation),"TransitionEvent"in window||(delete l.transitionstart.transition,delete f.transitionend.transition);function n(r,k){for(var N in r)if(r.hasOwnProperty(N)){var v=r[N];for(var m in v)if(m in e){k.push(v[m]);break}}}n(l,o),n(f,c)}typeof window<"u"&&typeof document<"u"&&p();function A(s,e,n){s.addEventListener(e,n,!1)}function u(s,e,n){s.removeEventListener(e,n,!1)}var S={startEvents:o,addStartEventListener:function(e,n){if(o.length===0){setTimeout(n,0);return}o.forEach(function(r){A(e,r,n)})},removeStartEventListener:function(e,n){o.length!==0&&o.forEach(function(r){u(e,r,n)})},endEvents:c,addEndEventListener:function(e,n){if(c.length===0){setTimeout(n,0);return}c.forEach(function(r){A(e,r,n)})},removeEndEventListener:function(e,n){c.length!==0&&c.forEach(function(r){u(e,r,n)})}},y=S;return T.default=y,T}var R;function G(){if(R)return g;R=1;var l=O.interopRequireDefault.exports;Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=B.require$$1,o=l(F()),c=l(H.requireRaf()),p=O.requirePropsUtil(),A=l(O.requireUseConfigInject()),u;function S(e){return process.env.NODE_ENV==="test"?!1:!e||e.offsetParent===null}function y(e){var n=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}var s=(0,f.defineComponent)({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,r){var k=r.slots,N=r.expose,v=(0,f.getCurrentInstance)(),m=(0,A.default)("",n),L=m.csp,E=m.prefixCls;N({csp:L});var _=null,j=null,w=null,M=!1,d=null,I=!1,P=function(t){if(!I){var i=(0,p.findDOMNode)(v);!t||t.target!==i||M||C(i)}},W=function(t){!t||t.animationName!=="fadeEffect"||C(t.target)},z=function(){var t=n.insertExtraNode;return t?"".concat(E.value,"-click-animating"):"".concat(E.value,"-click-animating-without-extra-node")},U=function(t,i){var b=n.insertExtraNode,h=n.disabled;if(!(h||!t||S(t)||t.className.indexOf("-leave")>=0)){d=document.createElement("div"),d.className="".concat(E.value,"-click-animating-node");var x=z();if(t.removeAttribute(x),t.setAttribute(x,"true"),u=u||document.createElement("style"),i&&i!=="#ffffff"&&i!=="rgb(255, 255, 255)"&&y(i)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(i)&&i!=="transparent"){var q;(q=L.value)!==null&&q!==void 0&&q.nonce&&(u.nonce=L.value.nonce),d.style.borderColor=i,u.innerHTML=`
        [`.concat(E.value,"-click-animating-without-extra-node='true']::after, .").concat(E.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(i,`;
        }`),document.body.contains(u)||document.body.appendChild(u)}b&&t.appendChild(d),o.default.addStartEventListener(t,P),o.default.addEndEventListener(t,W)}},C=function(t){if(!(!t||t===d||!(t instanceof Element))){var i=n.insertExtraNode,b=z();t.setAttribute(b,"false"),u&&(u.innerHTML=""),i&&d&&t.contains(d)&&t.removeChild(d),o.default.removeStartEventListener(t,P),o.default.removeEndEventListener(t,W)}},V=function(t){if(!(!t||!t.getAttribute||t.getAttribute("disabled")||t.className.indexOf("disabled")>=0)){var i=function(h){if(!(h.target.tagName==="INPUT"||S(h.target))){C(t);var x=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");j=setTimeout(function(){return U(t,x)},0),c.default.cancel(w),M=!0,w=(0,c.default)(function(){M=!1},10)}};return t.addEventListener("click",i,!0),{cancel:function(){t.removeEventListener("click",i,!0)}}}};return(0,f.onMounted)(function(){(0,f.nextTick)(function(){var a=(0,p.findDOMNode)(v);a.nodeType===1&&(_=V(a))})}),(0,f.onBeforeUnmount)(function(){_&&_.cancel(),clearTimeout(j),I=!0}),function(){var a;return(a=k.default)===null||a===void 0?void 0:a.call(k)[0]}}});return g.default=s,g}exports.requireWave=G;
