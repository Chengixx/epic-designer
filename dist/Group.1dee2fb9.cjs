"use strict";const c=require("./useConfigInject.9ebe03f9.cjs"),J=require("./_vue_commonjs-external.db6f8c6f.cjs"),se=require("./Checkbox.134e6aa2.cjs"),L=require("./FormItemContext.6a7c252d.cjs");function ve(n,e){for(var o=0;o<e.length;o++){const r=e[o];if(typeof r!="string"&&!Array.isArray(r)){for(const d in r)if(d!=="default"&&!(d in n)){const t=Object.getOwnPropertyDescriptor(r,d);t&&Object.defineProperty(n,d,t.get?t:{enumerable:!0,get:()=>r[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var $={},D={exports:{}},K;function pe(){return K||(K=1,function(n){var e=c.requireUnsupportedIterableToArray();function o(r,d){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=e(r))||d&&r&&typeof r.length=="number"){t&&(r=t);var _=0,I=function(){};return{s:I,n:function(){return _>=r.length?{done:!0}:{done:!1,value:r[_++]}},e:function(h){throw h},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=!0,P=!1,b;return{s:function(){t=t.call(r)},n:function(){var h=t.next();return g=h.done,h},e:function(h){P=!0,b=h},f:function(){try{!g&&t.return!=null&&t.return()}finally{if(P)throw b}}}}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports}(D)),D.exports}var M={},v={},W;function Q(){if(W)return v;W=1;var n=c.interopRequireDefault.exports;Object.defineProperty(v,"__esModule",{value:!0}),v.checkboxProps=v.checkboxGroupProps=v.abstractCheckboxProps=v.abstractCheckboxGroupProps=v.CheckboxGroupContextKey=void 0;var e=n(c.requireObjectSpread2()),o=n(c.requireVueTypes()),r=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}};v.abstractCheckboxGroupProps=r;var d=function(){return(0,e.default)((0,e.default)({},r()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})};v.checkboxGroupProps=d;var t=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:o.default.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}};v.abstractCheckboxProps=t;var _=function(){return(0,e.default)((0,e.default)({},t()),{},{indeterminate:{type:Boolean,default:!1}})};v.checkboxProps=_;var I=Symbol("CheckboxGroupContext");return v.CheckboxGroupContextKey=I,v}var z;function be(){if(z)return M;z=1;var n=c.interopRequireDefault.exports;Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0;var e=J.require$$1,o=n(c.requireDefineProperty()),r=n(c.requireObjectSpread2()),d=n(c.requireObjectWithoutProperties()),t=n(c.requireClassNames()),_=n(se.requireCheckbox()),I=c.requirePropsUtil(),g=n(c.requireWarning()),P=L.requireFormItemContext(),b=n(c.requireUseConfigInject()),f=Q(),h=["indeterminate","skipGroup","id"],S=["onMouseenter","onMouseleave","onInput","class","style"],B=(0,e.defineComponent)({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:(0,f.checkboxProps)(),setup:function(s,j){var u=j.emit,a=j.attrs,x=j.slots,y=j.expose,k=(0,P.useInjectFormItemContext)(),l=(0,b.default)("checkbox",s),m=l.prefixCls,A=l.direction,C=(0,e.inject)(f.CheckboxGroupContextKey,void 0),G=Symbol("checkboxUniId");(0,e.watchEffect)(function(){!s.skipGroup&&C&&C.registerValue(G,s.value)}),(0,e.onBeforeUnmount)(function(){C&&C.cancelValue(G)}),(0,e.onMounted)(function(){(0,g.default)(s.checked!==void 0||C||s.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var Z=function(i){var V=i.target.checked;u("update:checked",V),u("change",i)},R=(0,e.ref)(),ee=function(){var i;(i=R.value)===null||i===void 0||i.focus()},re=function(){var i;(i=R.value)===null||i===void 0||i.blur()};return y({focus:ee,blur:re}),function(){var O,i,V=(0,I.flattenChildren)((O=x.default)===null||O===void 0?void 0:O.call(x)),U=s.indeterminate,te=s.skipGroup,T=s.id,ae=T===void 0?k.id.value:T,ne=(0,d.default)(s,h),ue=a.onMouseenter,oe=a.onMouseleave;a.onInput;var le=a.class,ie=a.style,ce=(0,d.default)(a,S),q=(0,r.default)((0,r.default)({},ne),{},{id:ae,prefixCls:m.value},ce);C&&!te?(q.onChange=function(){for(var E=arguments.length,H=new Array(E),w=0;w<E;w++)H[w]=arguments[w];u.apply(void 0,["change"].concat(H)),C.toggleOption({label:V,value:s.value})},q.name=C.name.value,q.checked=C.mergedValue.value.indexOf(s.value)!==-1,q.disabled=s.disabled||C.disabled.value,q.indeterminate=U):q.onChange=Z;var de=(0,t.default)((i={},(0,o.default)(i,"".concat(m.value,"-wrapper"),!0),(0,o.default)(i,"".concat(m.value,"-rtl"),A.value==="rtl"),(0,o.default)(i,"".concat(m.value,"-wrapper-checked"),q.checked),(0,o.default)(i,"".concat(m.value,"-wrapper-disabled"),q.disabled),i),le),fe=(0,t.default)((0,o.default)({},"".concat(m.value,"-indeterminate"),U));return(0,e.createVNode)("label",{class:de,style:ie,onMouseenter:ue,onMouseleave:oe},[(0,e.createVNode)(_.default,(0,r.default)((0,r.default)({},q),{},{class:fe,ref:R}),null),V.length?(0,e.createVNode)("span",null,[V]):null])}}});return M.default=B,M}var F=c.interopRequireDefault.exports;Object.defineProperty($,"__esModule",{value:!0});var Y=$.default=void 0,p=J.require$$1,he=F(c.requireDefineProperty()),xe=F(c.requireToConsumableArray()),me=F(pe()),Ce=F(be()),ge=L.requireFormItemContext(),ye=F(c.requireUseConfigInject()),X=Q(),ke=(0,p.defineComponent)({compatConfig:{MODE:3},name:"ACheckboxGroup",props:(0,X.checkboxGroupProps)(),setup:function(e,o){var r=o.slots,d=o.emit,t=o.expose,_=(0,ge.useInjectFormItemContext)(),I=(0,ye.default)("checkbox",e),g=I.prefixCls,P=I.direction,b=(0,p.ref)((e.value===void 0?e.defaultValue:e.value)||[]);(0,p.watch)(function(){return e.value},function(){b.value=e.value||[]});var f=(0,p.computed)(function(){return e.options.map(function(u){return typeof u=="string"||typeof u=="number"?{label:u,value:u}:u})}),h=(0,p.ref)(Symbol()),S=(0,p.ref)(new Map),B=function(a){S.value.delete(a),h.value=Symbol()},N=function(a,x){S.value.set(a,x),h.value=Symbol()},s=(0,p.ref)(new Map);(0,p.watch)(h,function(){var u=new Map,a=(0,me.default)(S.value.values()),x;try{for(a.s();!(x=a.n()).done;){var y=x.value;u.set(y,!0)}}catch(k){a.e(k)}finally{a.f()}s.value=u});var j=function(a){var x=b.value.indexOf(a.value),y=(0,xe.default)(b.value);x===-1?y.push(a.value):y.splice(x,1),e.value===void 0&&(b.value=y);var k=y.filter(function(l){return s.value.has(l)}).sort(function(l,m){var A=f.value.findIndex(function(G){return G.value===l}),C=f.value.findIndex(function(G){return G.value===m});return A-C});d("update:value",k),d("change",k),_.onFieldChange()};return(0,p.provide)(X.CheckboxGroupContextKey,{cancelValue:B,registerValue:N,toggleOption:j,mergedValue:b,name:(0,p.computed)(function(){return e.name}),disabled:(0,p.computed)(function(){return e.disabled})}),t({mergedValue:b}),function(){var u,a=e.id,x=a===void 0?_.id.value:a,y=null,k="".concat(g.value,"-group");return f.value&&f.value.length>0&&(y=f.value.map(function(l){var m;return(0,p.createVNode)(Ce.default,{prefixCls:g.value,key:l.value.toString(),disabled:"disabled"in l?l.disabled:e.disabled,indeterminate:l.indeterminate,value:l.value,checked:b.value.indexOf(l.value)!==-1,onChange:l.onChange,class:"".concat(k,"-item")},{default:function(){return[l.label===void 0?(m=r.label)===null||m===void 0?void 0:m.call(r,l):l.label]}})})),(0,p.createVNode)("div",{class:[k,(0,he.default)({},"".concat(k,"-rtl"),P.value==="rtl")],id:x},[y||((u=r.default)===null||u===void 0?void 0:u.call(r))])}}});Y=$.default=ke;const _e=ve({__proto__:null,get default(){return Y}},[$]);exports.Group=_e;
