"use strict";const e=require("vue"),l=require("./useElementPlus.721bc6f7.cjs"),E=require("./isEqual.d1a2291f.cjs"),S=require("./hasIn.a8d9a610.cjs");function w(n,i,r){for(var t=-1,p=i.length,b={};++t<p;){var m=i[t],a=E.baseGet(n,m);r(a,m)&&l.baseSet(b,E.castPath(m,n),a)}return b}function F(n,i){return w(n,i,function(r,t){return S.hasIn(n,t)})}var $=S.flatRest(function(n,i){return n==null?{}:F(n,i)});const I=$,y={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:l.useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},B={[l.UPDATE_MODEL_EVENT]:n=>l.isString(n)||l.isNumber(n)||l.isBoolean(n),change:n=>l.isString(n)||l.isNumber(n)||l.isBoolean(n)},g=Symbol("checkboxGroupContextKey"),G=({model:n,isChecked:i})=>{const r=e.inject(g,void 0),t=e.computed(()=>{var b,m;const a=(b=r==null?void 0:r.max)==null?void 0:b.value,v=(m=r==null?void 0:r.min)==null?void 0:m.value;return!l.isUndefined(a)&&n.value.length>=a&&!i.value||!l.isUndefined(v)&&n.value.length<=v&&i.value});return{isDisabled:l.useFormDisabled(e.computed(()=>(r==null?void 0:r.disabled.value)||t.value)),isLimitDisabled:t}},P=(n,{model:i,isLimitExceeded:r,hasOwnLabel:t,isDisabled:p,isLabeledByFormItem:b})=>{const m=e.inject(g,void 0),{formItem:a}=l.useFormItem(),{emit:v}=e.getCurrentInstance();function o(s){var d,c;return s===n.trueLabel||s===!0?(d=n.trueLabel)!=null?d:!0:(c=n.falseLabel)!=null?c:!1}function f(s,d){v("change",o(s),d)}function h(s){if(r.value)return;const d=s.target;v("change",o(d.checked),s)}async function x(s){r.value||!t.value&&!p.value&&b.value&&(s.composedPath().some(k=>k.tagName==="LABEL")||(i.value=o([!1,n.falseLabel].includes(i.value)),await e.nextTick(),f(i.value,s)))}const u=e.computed(()=>(m==null?void 0:m.validateEvent)||n.validateEvent);return e.watch(()=>n.modelValue,()=>{u.value&&(a==null||a.validate("change").catch(s=>l.debugWarn(s)))}),{handleChange:h,onClickRoot:x}},T=n=>{const i=e.ref(!1),{emit:r}=e.getCurrentInstance(),t=e.inject(g,void 0),p=e.computed(()=>l.isUndefined(t)===!1),b=e.ref(!1);return{model:e.computed({get(){var a,v;return p.value?(a=t==null?void 0:t.modelValue)==null?void 0:a.value:(v=n.modelValue)!=null?v:i.value},set(a){var v,o;p.value&&l.isArray(a)?(b.value=((v=t==null?void 0:t.max)==null?void 0:v.value)!==void 0&&a.length>(t==null?void 0:t.max.value),b.value===!1&&((o=t==null?void 0:t.changeEvent)==null||o.call(t,a))):(r(l.UPDATE_MODEL_EVENT,a),i.value=a)}}),isGroup:p,isLimitExceeded:b}},A=(n,i,{model:r})=>{const t=e.inject(g,void 0),p=e.ref(!1),b=e.computed(()=>{const o=r.value;return l.isBoolean(o)?o:l.isArray(o)?l.isObject(n.label)?o.map(e.toRaw).some(f=>E.isEqual(f,n.label)):o.map(e.toRaw).includes(n.label):o!=null?o===n.trueLabel:!!o}),m=l.useFormSize(e.computed(()=>{var o;return(o=t==null?void 0:t.size)==null?void 0:o.value}),{prop:!0}),a=l.useFormSize(e.computed(()=>{var o;return(o=t==null?void 0:t.size)==null?void 0:o.value})),v=e.computed(()=>!!(i.default||n.label));return{checkboxButtonSize:m,isChecked:b,isFocused:p,checkboxSize:a,hasOwnLabel:v}},M=(n,{model:i})=>{function r(){l.isArray(i.value)&&!i.value.includes(n.label)?i.value.push(n.label):i.value=n.trueLabel||!0}n.checked&&r()},L=(n,i)=>{const{formItem:r}=l.useFormItem(),{model:t,isGroup:p,isLimitExceeded:b}=T(n),{isFocused:m,isChecked:a,checkboxButtonSize:v,checkboxSize:o,hasOwnLabel:f}=A(n,i,{model:t}),{isDisabled:h}=G({model:t,isChecked:a}),{inputId:x,isLabeledByFormItem:u}=l.useFormItemInputId(n,{formItemContext:r,disableIdGeneration:f,disableIdManagement:p}),{handleChange:s,onClickRoot:d}=P(n,{model:t,isLimitExceeded:b,hasOwnLabel:f,isDisabled:h,isLabeledByFormItem:u});return M(n,{model:t}),{inputId:x,isLabeledByFormItem:u,isChecked:a,isDisabled:h,isFocused:m,checkboxButtonSize:v,checkboxSize:o,hasOwnLabel:f,model:t,handleChange:s,onClickRoot:d}},R=["tabindex","role","aria-checked"],U=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],O=["id","aria-hidden","disabled","value","name","tabindex"],j=e.defineComponent({name:"ElCheckbox"}),q=e.defineComponent({...j,props:y,emits:B,setup(n){const i=n,r=e.useSlots(),{inputId:t,isLabeledByFormItem:p,isChecked:b,isDisabled:m,isFocused:a,checkboxSize:v,hasOwnLabel:o,model:f,handleChange:h,onClickRoot:x}=L(i,r),u=l.useNamespace("checkbox"),s=e.computed(()=>[u.b(),u.m(v.value),u.is("disabled",m.value),u.is("bordered",i.border),u.is("checked",b.value)]),d=e.computed(()=>[u.e("input"),u.is("disabled",m.value),u.is("checked",b.value),u.is("indeterminate",i.indeterminate),u.is("focus",a.value)]);return(c,k)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(!e.unref(o)&&e.unref(p)?"span":"label"),{class:e.normalizeClass(e.unref(s)),"aria-controls":c.indeterminate?c.controls:null,onClick:e.unref(x)},{default:e.withCtx(()=>[e.createElementVNode("span",{class:e.normalizeClass(e.unref(d)),tabindex:c.indeterminate?0:void 0,role:c.indeterminate?"checkbox":void 0,"aria-checked":c.indeterminate?"mixed":void 0},[c.trueLabel||c.falseLabel?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,id:e.unref(t),"onUpdate:modelValue":k[0]||(k[0]=C=>e.isRef(f)?f.value=C:null),class:e.normalizeClass(e.unref(u).e("original")),type:"checkbox","aria-hidden":c.indeterminate?"true":"false",name:c.name,tabindex:c.tabindex,disabled:e.unref(m),"true-value":c.trueLabel,"false-value":c.falseLabel,onChange:k[1]||(k[1]=(...C)=>e.unref(h)&&e.unref(h)(...C)),onFocus:k[2]||(k[2]=C=>a.value=!0),onBlur:k[3]||(k[3]=C=>a.value=!1)},null,42,U)),[[e.vModelCheckbox,e.unref(f)]]):e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,id:e.unref(t),"onUpdate:modelValue":k[4]||(k[4]=C=>e.isRef(f)?f.value=C:null),class:e.normalizeClass(e.unref(u).e("original")),type:"checkbox","aria-hidden":c.indeterminate?"true":"false",disabled:e.unref(m),value:c.label,name:c.name,tabindex:c.tabindex,onChange:k[5]||(k[5]=(...C)=>e.unref(h)&&e.unref(h)(...C)),onFocus:k[6]||(k[6]=C=>a.value=!0),onBlur:k[7]||(k[7]=C=>a.value=!1)},null,42,O)),[[e.vModelCheckbox,e.unref(f)]]),e.createElementVNode("span",{class:e.normalizeClass(e.unref(u).e("inner"))},null,2)],10,R),e.unref(o)?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(e.unref(u).e("label"))},[e.renderSlot(c.$slots,"default"),c.$slots.default?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(c.label),1)],64))],2)):e.createCommentVNode("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var K=l._export_sfc(q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _=["name","tabindex","disabled","true-value","false-value"],W=["name","tabindex","disabled","value"],H=e.defineComponent({name:"ElCheckboxButton"}),J=e.defineComponent({...H,props:y,emits:B,setup(n){const i=n,r=e.useSlots(),{isFocused:t,isChecked:p,isDisabled:b,checkboxButtonSize:m,model:a,handleChange:v}=L(i,r),o=e.inject(g,void 0),f=l.useNamespace("checkbox"),h=e.computed(()=>{var u,s,d,c;const k=(s=(u=o==null?void 0:o.fill)==null?void 0:u.value)!=null?s:"";return{backgroundColor:k,borderColor:k,color:(c=(d=o==null?void 0:o.textColor)==null?void 0:d.value)!=null?c:"",boxShadow:k?`-1px 0 0 0 ${k}`:void 0}}),x=e.computed(()=>[f.b("button"),f.bm("button",m.value),f.is("disabled",b.value),f.is("checked",p.value),f.is("focus",t.value)]);return(u,s)=>(e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass(e.unref(x))},[u.trueLabel||u.falseLabel?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,"onUpdate:modelValue":s[0]||(s[0]=d=>e.isRef(a)?a.value=d:null),class:e.normalizeClass(e.unref(f).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:e.unref(b),"true-value":u.trueLabel,"false-value":u.falseLabel,onChange:s[1]||(s[1]=(...d)=>e.unref(v)&&e.unref(v)(...d)),onFocus:s[2]||(s[2]=d=>t.value=!0),onBlur:s[3]||(s[3]=d=>t.value=!1)},null,42,_)),[[e.vModelCheckbox,e.unref(a)]]):e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,"onUpdate:modelValue":s[4]||(s[4]=d=>e.isRef(a)?a.value=d:null),class:e.normalizeClass(e.unref(f).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:e.unref(b),value:u.label,onChange:s[5]||(s[5]=(...d)=>e.unref(v)&&e.unref(v)(...d)),onFocus:s[6]||(s[6]=d=>t.value=!0),onBlur:s[7]||(s[7]=d=>t.value=!1)},null,42,W)),[[e.vModelCheckbox,e.unref(a)]]),u.$slots.default||u.label?(e.openBlock(),e.createElementBlock("span",{key:2,class:e.normalizeClass(e.unref(f).be("button","inner")),style:e.normalizeStyle(e.unref(p)?e.unref(h):void 0)},[e.renderSlot(u.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(u.label),1)])],6)):e.createCommentVNode("v-if",!0)],2))}});var z=l._export_sfc(J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const N=l.buildProps({modelValue:{type:l.definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:l.useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),V={[l.UPDATE_MODEL_EVENT]:n=>l.isArray(n),change:n=>l.isArray(n)},Q=e.defineComponent({name:"ElCheckboxGroup"}),X=e.defineComponent({...Q,props:N,emits:V,setup(n,{emit:i}){const r=n,t=l.useNamespace("checkbox"),{formItem:p}=l.useFormItem(),{inputId:b,isLabeledByFormItem:m}=l.useFormItemInputId(r,{formItemContext:p}),a=async o=>{i(l.UPDATE_MODEL_EVENT,o),await e.nextTick(),i("change",o)},v=e.computed({get(){return r.modelValue},set(o){a(o)}});return e.provide(g,{...I(e.toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:v,changeEvent:a}),e.watch(()=>r.modelValue,()=>{r.validateEvent&&(p==null||p.validate("change").catch(o=>l.debugWarn(o)))}),(o,f)=>{var h;return e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.tag),{id:e.unref(b),class:e.normalizeClass(e.unref(t).b("group")),role:"group","aria-label":e.unref(m)?void 0:o.label||"checkbox-group","aria-labelledby":e.unref(m)?(h=e.unref(p))==null?void 0:h.labelId:void 0},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var D=l._export_sfc(X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Y=l.withInstall(K,{CheckboxButton:z,CheckboxGroup:D}),Z=l.withNoopInstall(z),ee=l.withNoopInstall(D);exports.ElCheckbox=Y;exports.ElCheckboxButton=Z;exports.ElCheckboxGroup=ee;exports.checkboxEmits=B;exports.checkboxGroupContextKey=g;exports.checkboxGroupEmits=V;exports.checkboxGroupProps=N;exports.checkboxProps=y;exports.pick=I;
