"use strict";const N=require("./useConfigInject.9ebe03f9.cjs"),ee=require("./_vue_commonjs-external.db6f8c6f.cjs"),ve=require("./Portal.e34aaf45.cjs"),Ve=require("./KeyCode.b3009ec3.cjs"),Ie=require("./omit.290ed8c8.cjs"),We=require("./pickAttrs.ed22ba75.cjs"),pe=require("./index.1449581b.cjs"),ye=require("./classCallCheck.f96486aa.cjs"),je=require("./raf.3a81eca4.cjs");var se={},F={},H={},G={},A={},he;function te(){if(he)return A;he=1;var a=N.interopRequireDefault.exports;Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,A.dialogPropTypes=t;var r=a(N.requireVueTypes());function t(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:r.default.shape({x:Number,y:Number}).loose,title:r.default.any,footer:r.default.any,transitionName:String,maskTransitionName:String,animation:r.default.any,maskAnimation:r.default.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:r.default.any,maskProps:r.default.any,wrapProps:r.default.any,getContainer:r.default.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:r.default.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}var y=t;return A.default=y,A}var L={},Ce;function xe(){if(Ce)return L;Ce=1,Object.defineProperty(L,"__esModule",{value:!0}),L.getMotionName=a,L.getUUID=t,L.offset=v;function a(f,s,o){var p=s;return!p&&o&&(p="".concat(f,"-").concat(o)),p}var r=-1;function t(){return r+=1,r}function y(f,s){var o=f["page".concat(s?"Y":"X","Offset")],p="scroll".concat(s?"Top":"Left");if(typeof o!="number"){var u=f.document;o=u.documentElement[p],typeof o!="number"&&(o=u.body[p])}return o}function v(f){var s=f.getBoundingClientRect(),o={left:s.left,top:s.top},p=f.ownerDocument,u=p.defaultView||p.parentWindow;return o.left+=y(u),o.top+=y(u,!0),o}return L}var _e;function $e(){if(_e)return G;_e=1;var a=N.interopRequireDefault.exports,r=pe._typeof.exports;Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var t=ee.require$$1,y=a(N.requireObjectSpread2()),v=p(N.requireTransition()),f=a(te()),s=xe();function o(i){if(typeof WeakMap!="function")return null;var n=new WeakMap,q=new WeakMap;return(o=function(e){return e?q:n})(i)}function p(i,n){if(!n&&i&&i.__esModule)return i;if(i===null||r(i)!=="object"&&typeof i!="function")return{default:i};var q=o(n);if(q&&q.has(i))return q.get(i);var C={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(d!=="default"&&Object.prototype.hasOwnProperty.call(i,d)){var _=e?Object.getOwnPropertyDescriptor(i,d):null;_&&(_.get||_.set)?Object.defineProperty(C,d,_):C[d]=i[d]}return C.default=i,q&&q.set(i,C),C}var u={width:0,height:0,overflow:"hidden",outline:"none"},w=(0,t.defineComponent)({compatConfig:{MODE:3},name:"Content",inheritAttrs:!1,props:(0,y.default)((0,y.default)({},(0,f.default)()),{},{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(n,q){var C=q.expose,e=q.slots,d=q.attrs,_=(0,t.ref)(),l=(0,t.ref)(),k=(0,t.ref)();C({focus:function(){var h;(h=_.value)===null||h===void 0||h.focus()},changeActive:function(h){var O=document,T=O.activeElement;h&&T===l.value?_.value.focus():!h&&T===_.value&&l.value.focus()}});var P=(0,t.ref)(),m=(0,t.computed)(function(){var D=n.width,h=n.height,O={};return D!==void 0&&(O.width=typeof D=="number"?"".concat(D,"px"):D),h!==void 0&&(O.height=typeof h=="number"?"".concat(h,"px"):h),P.value&&(O.transformOrigin=P.value),O}),b=function(){(0,t.nextTick)(function(){if(k.value){var h=(0,s.offset)(k.value);P.value=n.mousePosition?"".concat(n.mousePosition.x-h.left,"px ").concat(n.mousePosition.y-h.top,"px"):""}})},S=function(h){n.onVisibleChanged(h)};return function(){var D,h,O,T,E=n.prefixCls,j=n.footer,$=j===void 0?(D=e.footer)===null||D===void 0?void 0:D.call(e):j,R=n.title,c=R===void 0?(h=e.title)===null||h===void 0?void 0:h.call(e):R,g=n.ariaId,x=n.closable,V=n.closeIcon,M=V===void 0?(O=e.closeIcon)===null||O===void 0?void 0:O.call(e):V,I=n.onClose,B=n.bodyStyle,W=n.bodyProps,z=n.onMousedown,ue=n.onMouseup,re=n.visible,ae=n.modalRender,ne=ae===void 0?e.modalRender:ae,fe=n.destroyOnClose,ce=n.motionName,K;$&&(K=(0,t.createVNode)("div",{class:"".concat(E,"-footer")},[$]));var oe;c&&(oe=(0,t.createVNode)("div",{class:"".concat(E,"-header")},[(0,t.createVNode)("div",{class:"".concat(E,"-title"),id:g},[c])]));var ie;x&&(ie=(0,t.createVNode)("button",{type:"button",onClick:I,"aria-label":"Close",class:"".concat(E,"-close")},[M||(0,t.createVNode)("span",{class:"".concat(E,"-close-x")},null)]));var le=(0,t.createVNode)("div",{class:"".concat(E,"-content")},[ie,oe,(0,t.createVNode)("div",(0,y.default)({class:"".concat(E,"-body"),style:B},W),[(T=e.default)===null||T===void 0?void 0:T.call(e)]),K]),Ee=(0,v.getTransitionProps)(ce);return(0,t.createVNode)(v.default,(0,y.default)((0,y.default)({},Ee),{},{onBeforeEnter:b,onAfterEnter:function(){return S(!0)},onAfterLeave:function(){return S(!1)}}),{default:function(){return[re||!fe?(0,t.withDirectives)((0,t.createVNode)("div",(0,y.default)((0,y.default)({},d),{},{ref:k,key:"dialog-element",role:"document",style:[m.value,d.style],class:[E,d.class],onMousedown:z,onMouseup:ue}),[(0,t.createVNode)("div",{tabindex:0,ref:_,style:u,"aria-hidden":"true"},null),ne?ne({originVNode:le}):le,(0,t.createVNode)("div",{tabindex:0,ref:l,style:u,"aria-hidden":"true"},null)]),[[t.vShow,re]]):null]}})}}});return G.default=w,G}var X={},de={exports:{}},be;function Me(){return be||(be=1,function(a){function r(t){if(t==null)throw new TypeError("Cannot destructure "+t)}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(de)),de.exports}var qe;function Be(){if(qe)return X;qe=1;var a=N.interopRequireDefault.exports,r=pe._typeof.exports;Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var t=ee.require$$1,y=a(N.requireObjectSpread2()),v=a(Me()),f=o(N.requireTransition());function s(u){if(typeof WeakMap!="function")return null;var w=new WeakMap,i=new WeakMap;return(s=function(q){return q?i:w})(u)}function o(u,w){if(!w&&u&&u.__esModule)return u;if(u===null||r(u)!=="object"&&typeof u!="function")return{default:u};var i=s(w);if(i&&i.has(u))return i.get(u);var n={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in u)if(C!=="default"&&Object.prototype.hasOwnProperty.call(u,C)){var e=q?Object.getOwnPropertyDescriptor(u,C):null;e&&(e.get||e.set)?Object.defineProperty(n,C,e):n[C]=u[C]}return n.default=u,i&&i.set(u,n),n}var p=(0,t.defineComponent)({compatConfig:{MODE:3},name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(w,i){return(0,v.default)(i),function(){var n=w.prefixCls,q=w.visible,C=w.maskProps,e=w.motionName,d=(0,f.getTransitionProps)(e);return(0,t.createVNode)(f.default,d,{default:function(){return[(0,t.withDirectives)((0,t.createVNode)("div",(0,y.default)({class:"".concat(n,"-mask")},C),null),[[t.vShow,q]])]}})}}});return X.default=p,X}var we;function Ae(){if(we)return H;we=1;var a=N.interopRequireDefault.exports;Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var r=ee.require$$1,t=a(N.requireObjectSpread2()),y=a(ve.requireContains()),v=a(N.requireClassNames()),f=a(Ve.requireKeyCode()),s=a(Ie.requireOmit()),o=a(We.requirePickAttrs()),p=N.requirePropsUtil(),u=a($e()),w=a(te()),i=a(Be()),n=xe(),q=(0,r.defineComponent)({compatConfig:{MODE:3},name:"Dialog",inheritAttrs:!1,props:(0,p.initDefaultProps)((0,t.default)((0,t.default)({},(0,w.default)()),{},{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,d){var _=d.attrs,l=d.slots,k=(0,r.ref)(),P=(0,r.ref)(),m=(0,r.ref)(),b=(0,r.ref)(e.visible),S=(0,r.ref)("vcDialogTitle".concat((0,n.getUUID)())),D=function(g){if(g){if(!(0,y.default)(P.value,document.activeElement)){var x;k.value=document.activeElement,(x=m.value)===null||x===void 0||x.focus()}}else{var V=b.value;if(b.value=!1,e.mask&&k.value&&e.focusTriggerAfterClose){try{k.value.focus({preventScroll:!0})}catch{}k.value=null}if(V){var M;(M=e.afterClose)===null||M===void 0||M.call(e)}}},h=function(g){var x;(x=e.onClose)===null||x===void 0||x.call(e,g)},O=(0,r.ref)(!1),T=(0,r.ref)(),E=function(){clearTimeout(T.value),O.value=!0},j=function(){T.value=setTimeout(function(){O.value=!1})},$=function(g){if(!e.maskClosable)return null;O.value?O.value=!1:P.value===g.target&&h(g)},R=function(g){if(e.keyboard&&g.keyCode===f.default.ESC){g.stopPropagation(),h(g);return}e.visible&&g.keyCode===f.default.TAB&&m.value.changeActive(!g.shiftKey)};return(0,r.watch)(function(){return e.visible},function(){e.visible&&(b.value=!0)},{flush:"post"}),(0,r.onBeforeUnmount)(function(){var c;clearTimeout(T.value),(c=e.scrollLocker)===null||c===void 0||c.unLock()}),(0,r.watchEffect)(function(){var c;if((c=e.scrollLocker)===null||c===void 0||c.unLock(),b.value){var g;(g=e.scrollLocker)===null||g===void 0||g.lock()}}),function(){var c=e.prefixCls,g=e.mask,x=e.visible,V=e.maskTransitionName,M=e.maskAnimation,I=e.zIndex,B=e.wrapClassName,W=e.rootClassName,z=e.wrapStyle,ue=e.closable,re=e.maskProps,ae=e.maskStyle,ne=e.transitionName,fe=e.animation,ce=e.wrapProps,K=e.title,oe=K===void 0?l.title:K,ie=_.style,le=_.class;return(0,r.createVNode)("div",(0,t.default)({class:["".concat(c,"-root"),W]},(0,o.default)(e,{data:!0})),[(0,r.createVNode)(i.default,{prefixCls:c,visible:g&&x,motionName:(0,n.getMotionName)(c,V,M),style:(0,t.default)({zIndex:I},ae),maskProps:re},null),(0,r.createVNode)("div",(0,t.default)({tabIndex:-1,onKeydown:R,class:(0,v.default)("".concat(c,"-wrap"),B),ref:P,onClick:$,role:"dialog","aria-labelledby":oe?S.value:null,style:(0,t.default)((0,t.default)({zIndex:I},z),{},{display:b.value?null:"none"})},ce),[(0,r.createVNode)(u.default,(0,t.default)((0,t.default)({},(0,s.default)(e,["scrollLocker"])),{},{style:ie,class:le,onMousedown:E,onMouseup:j,ref:m,closable:ue,ariaId:S.value,prefixCls:c,visible:x,onClose:h,onVisibleChanged:D,motionName:(0,n.getMotionName)(c,ne,fe)}),l)])])}}});return H.default=q,H}var U={},Y={},J={},Ne;function Te(){if(Ne)return J;Ne=1,Object.defineProperty(J,"__esModule",{value:!0}),J.default=r,J.getTargetScrollBarSize=y;var a;function r(v){if(typeof document>"u")return 0;if(v||a===void 0){var f=document.createElement("div");f.style.width="100%",f.style.height="200px";var s=document.createElement("div"),o=s.style;o.position="absolute",o.top="0",o.left="0",o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",s.appendChild(f),document.body.appendChild(s);var p=f.offsetWidth;s.style.overflow="scroll";var u=f.offsetWidth;p===u&&(u=s.clientWidth),document.body.removeChild(s),a=p-u}return a}function t(v){var f=v.match(/^(.*)px$/),s=Number(f==null?void 0:f[1]);return Number.isNaN(s)?r():s}function y(v){if(typeof document>"u"||!v||!(v instanceof Element))return{width:0,height:0};var f=getComputedStyle(v,"::-webkit-scrollbar"),s=f.width,o=f.height;return{width:t(s),height:t(o)}}return J}var Q={},Pe;function me(){if(Pe)return Q;Pe=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;function a(t){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=y.element,f=v===void 0?document.body:v,s={},o=Object.keys(t);return o.forEach(function(p){s[p]=f.style[p]}),o.forEach(function(p){f.style[p]=t[p]}),s}var r=a;return Q.default=r,Q}var Se;function Le(){if(Se)return Y;Se=1;var a=N.interopRequireDefault.exports;Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=void 0;var r=a(Te()),t=a(me());function y(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var v={},f=function(o){if(!(!y()&&!o)){var p="ant-scrolling-effect",u=new RegExp("".concat(p),"g"),w=document.body.className;if(o){if(!u.test(w))return;(0,t.default)(v),v={},document.body.className=w.replace(u,"").trim();return}var i=(0,r.default)();if(i&&(v=(0,t.default)({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!u.test(w))){var n="".concat(w," ").concat(p);document.body.className=n.trim()}}};return Y.default=f,Y}var Z={},ke;function Ue(){if(ke)return Z;ke=1;var a=N.interopRequireDefault.exports;Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var r=a(N.requireToConsumableArray()),t=a(ye.requireCreateClass()),y=a(ye.requireClassCallCheck()),v=a(N.requireDefineProperty()),f=a(Te()),s=a(me()),o=[],p="ant-scrolling-effect",u=new RegExp("".concat(p),"g"),w=0,i=new Map,n=(0,t.default)(function q(C){var e=this;(0,y.default)(this,q),(0,v.default)(this,"getContainer",function(){var d;return(d=e.options)===null||d===void 0?void 0:d.container}),(0,v.default)(this,"reLock",function(d){var _=o.find(function(l){var k=l.target;return k===e.lockTarget});_&&e.unLock(),e.options=d,_&&(_.options=d,e.lock())}),(0,v.default)(this,"lock",function(){var d;if(!o.some(function(m){var b=m.target;return b===e.lockTarget})){if(o.some(function(m){var b,S=m.options;return(S==null?void 0:S.container)===((b=e.options)===null||b===void 0?void 0:b.container)})){o=[].concat((0,r.default)(o),[{target:e.lockTarget,options:e.options}]);return}var _=0,l=((d=e.options)===null||d===void 0?void 0:d.container)||document.body;(l===document.body&&window.innerWidth-document.documentElement.clientWidth>0||l.scrollHeight>l.clientHeight)&&(_=(0,f.default)());var k=l.className;if(o.filter(function(m){var b,S=m.options;return(S==null?void 0:S.container)===((b=e.options)===null||b===void 0?void 0:b.container)}).length===0&&i.set(l,(0,s.default)({width:_!==0?"calc(100% - ".concat(_,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:l})),!u.test(k)){var P="".concat(k," ").concat(p);l.className=P.trim()}o=[].concat((0,r.default)(o),[{target:e.lockTarget,options:e.options}])}}),(0,v.default)(this,"unLock",function(){var d,_=o.find(function(P){var m=P.target;return m===e.lockTarget});if(o=o.filter(function(P){var m=P.target;return m!==e.lockTarget}),!(!_||o.some(function(P){var m,b=P.options;return(b==null?void 0:b.container)===((m=_.options)===null||m===void 0?void 0:m.container)}))){var l=((d=e.options)===null||d===void 0?void 0:d.container)||document.body,k=l.className;!u.test(k)||((0,s.default)(i.get(l),{element:l}),i.delete(l),l.className=l.className.replace(u,"").trim())}}),this.lockTarget=w++,this.options=C});return Z.default=n,Z}var De;function ze(){if(De)return U;De=1;var a=N.interopRequireDefault.exports;Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0,U.getOpenCount=q;var r=ee.require$$1,t=a(N.requireSlicedToArray()),y=a(pe._typeof.exports),v=a(N.requireVueTypes()),f=a(Le()),s=a(me()),o=a(ve.requirePortal()),p=a(N.requireCanUseDom()),u=a(Ue()),w=a(je.requireRaf()),i=0,n=(0,p.default)();function q(){return process.env.NODE_ENV==="test"?i:0}var C={},e=function(l){if(!n)return null;if(l){if(typeof l=="string")return document.querySelectorAll(l)[0];if(typeof l=="function")return l();if((0,y.default)(l)==="object"&&l instanceof window.HTMLElement)return l}return document.body},d=(0,r.defineComponent)({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:v.default.any,visible:{type:Boolean,default:void 0}},setup:function(l,k){var P=k.slots,m=(0,r.ref)(),b=(0,r.ref)(),S=(0,r.ref)(),D=new u.default({container:e(l.getContainer)}),h=function(){var c,g;(c=m.value)===null||c===void 0||(g=c.parentNode)===null||g===void 0||g.removeChild(m.value)},O=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(c||m.value&&!m.value.parentNode){var g=e(l.getContainer);return g?(g.appendChild(m.value),!0):!1}return!0},T=function(){return n?(m.value||(m.value=document.createElement("div"),O(!0)),E(),m.value):null},E=function(){var c=l.wrapperClassName;m.value&&c&&c!==m.value.className&&(m.value.className=c)};(0,r.onUpdated)(function(){E(),O()});var j=function(){i===1&&!Object.keys(C).length?((0,f.default)(),C=(0,s.default)({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):i||((0,s.default)(C),C={},(0,f.default)(!0))},$=(0,r.getCurrentInstance)();return(0,r.onMounted)(function(){var R=!1;(0,r.watch)([function(){return l.visible},function(){return l.getContainer}],function(c,g){var x=(0,t.default)(c,2),V=x[0],M=x[1],I=(0,t.default)(g,2),B=I[0],W=I[1];if(n&&e(l.getContainer)===document.body&&(V&&!B?i+=1:R&&(i-=1)),R){var z=typeof M=="function"&&typeof W=="function";(z?M.toString()!==W.toString():M!==W)&&h(),V&&V!==B&&n&&e(M)!==D.getContainer()&&D.reLock({container:e(M)})}R=!0},{immediate:!0,flush:"post"}),(0,r.nextTick)(function(){O()||(S.value=(0,w.default)(function(){$.update()}))})}),(0,r.onBeforeUnmount)(function(){var R=l.visible,c=l.getContainer;n&&e(c)===document.body&&(i=R&&i?i-1:i),h(),w.default.cancel(S.value)}),function(){var R=l.forceRender,c=l.visible,g=null,x={getOpenCount:function(){return i},getContainer:T,switchScrollingEffect:j,scrollLocker:D};return(R||c||b.value)&&(g=(0,r.createVNode)(o.default,{getContainer:T,ref:b},{default:function(){var M;return(M=P.default)===null||M===void 0?void 0:M.call(P,x)}})),g}}});return U.default=d,U}var Oe;function Ke(){if(Oe)return F;Oe=1;var a=N.interopRequireDefault.exports;Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var r=ee.require$$1,t=a(N.requireObjectSpread2()),y=a(Ae()),v=a(te()),f=a(ze()),s=ve.requireContext(),o=N.requirePropsUtil(),p=(0,v.default)(),u=(0,r.defineComponent)({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:(0,o.initDefaultProps)(p,{visible:!1}),setup:function(n,q){var C=q.attrs,e=q.slots,d=(0,r.ref)(n.visible);return(0,s.useProvidePortal)({},{inTriggerContext:!1}),(0,r.watch)(function(){return n.visible},function(){n.visible&&(d.value=!0)},{flush:"post"}),function(){var _=n.visible,l=n.getContainer,k=n.forceRender,P=n.destroyOnClose,m=P===void 0?!1:P,b=n.afterClose,S=(0,t.default)((0,t.default)((0,t.default)({},n),C),{},{ref:"_component",key:"dialog"});return l===!1?(0,r.createVNode)(y.default,(0,t.default)((0,t.default)({},S),{},{getOpenCount:function(){return 2}}),e):!k&&m&&!d.value?null:(0,r.createVNode)(f.default,{visible:_,forceRender:k,getContainer:l},{default:function(h){return S=(0,t.default)((0,t.default)((0,t.default)({},S),h),{},{afterClose:function(){b==null||b(),d.value=!1}}),(0,r.createVNode)(y.default,S,e)}})}}}),w=u;return F.default=w,F}var Re;function Fe(){return Re||(Re=1,function(a){var r=N.interopRequireDefault.exports;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,Object.defineProperty(a,"dialogProps",{enumerable:!0,get:function(){return y.default}});var t=r(Ke()),y=r(te()),v=t.default;a.default=v}(se)),se}exports.requireIDialogPropTypes=te;exports.requireObjectDestructuringEmpty=Me;exports.requireVcDialog=Fe;
